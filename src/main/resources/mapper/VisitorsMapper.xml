<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ec.customer.dao.VisitorsMapper">
  <resultMap id="BaseResultMap" type="com.ec.customer.model.Visitors">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="custom_type" jdbcType="INTEGER" property="customType" />
    <result column="custom_from" jdbcType="VARCHAR" property="customFrom" />
    <result column="custom_visit_url" jdbcType="VARCHAR" property="customVisitUrl" />
    <result column="product_type" jdbcType="VARCHAR" property="productType" />
    <result column="createdate" jdbcType="DATE" property="createdate" />
    <result column="createip" jdbcType="VARCHAR" property="createip" />
    <result column="browser_name" jdbcType="VARCHAR" property="browserName" />
    <result column="browser_os" jdbcType="VARCHAR" property="browserOs" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="rate_unit" jdbcType="VARCHAR" property="rateUnit" />
    <result column="rate_val" jdbcType="INTEGER" property="rateVal" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    custom_type, custom_from, custom_visit_url, product_type, createdate, createip, browser_name, 
    browser_os, status, rate_unit, rate_val
  </sql>
  <select id="selectByExample" parameterType="com.ec.customer.model.VisitorsExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from visitors
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.ec.customer.model.VisitorsExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from visitors
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.ec.customer.model.Visitors">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into visitors (custom_type, custom_from, custom_visit_url, 
      product_type, createdate, createip, 
      browser_name, browser_os, status, 
      rate_unit, rate_val)
    values (#{customType,jdbcType=INTEGER}, #{customFrom,jdbcType=VARCHAR}, #{customVisitUrl,jdbcType=VARCHAR}, 
      #{productType,jdbcType=VARCHAR}, #{createdate,jdbcType=DATE}, #{createip,jdbcType=VARCHAR}, 
      #{browserName,jdbcType=VARCHAR}, #{browserOs,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, 
      #{rateUnit,jdbcType=VARCHAR}, #{rateVal,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.ec.customer.model.Visitors">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into visitors
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="customType != null">
        custom_type,
      </if>
      <if test="customFrom != null">
        custom_from,
      </if>
      <if test="customVisitUrl != null">
        custom_visit_url,
      </if>
      <if test="productType != null">
        product_type,
      </if>
      <if test="createdate != null">
        createdate,
      </if>
      <if test="createip != null">
        createip,
      </if>
      <if test="browserName != null">
        browser_name,
      </if>
      <if test="browserOs != null">
        browser_os,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="rateUnit != null">
        rate_unit,
      </if>
      <if test="rateVal != null">
        rate_val,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="customType != null">
        #{customType,jdbcType=INTEGER},
      </if>
      <if test="customFrom != null">
        #{customFrom,jdbcType=VARCHAR},
      </if>
      <if test="customVisitUrl != null">
        #{customVisitUrl,jdbcType=VARCHAR},
      </if>
      <if test="productType != null">
        #{productType,jdbcType=VARCHAR},
      </if>
      <if test="createdate != null">
        #{createdate,jdbcType=DATE},
      </if>
      <if test="createip != null">
        #{createip,jdbcType=VARCHAR},
      </if>
      <if test="browserName != null">
        #{browserName,jdbcType=VARCHAR},
      </if>
      <if test="browserOs != null">
        #{browserOs,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=INTEGER},
      </if>
      <if test="rateUnit != null">
        #{rateUnit,jdbcType=VARCHAR},
      </if>
      <if test="rateVal != null">
        #{rateVal,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.ec.customer.model.VisitorsExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from visitors
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update visitors
    <set>
      <if test="record.customType != null">
        custom_type = #{record.customType,jdbcType=INTEGER},
      </if>
      <if test="record.customFrom != null">
        custom_from = #{record.customFrom,jdbcType=VARCHAR},
      </if>
      <if test="record.customVisitUrl != null">
        custom_visit_url = #{record.customVisitUrl,jdbcType=VARCHAR},
      </if>
      <if test="record.productType != null">
        product_type = #{record.productType,jdbcType=VARCHAR},
      </if>
      <if test="record.createdate != null">
        createdate = #{record.createdate,jdbcType=DATE},
      </if>
      <if test="record.createip != null">
        createip = #{record.createip,jdbcType=VARCHAR},
      </if>
      <if test="record.browserName != null">
        browser_name = #{record.browserName,jdbcType=VARCHAR},
      </if>
      <if test="record.browserOs != null">
        browser_os = #{record.browserOs,jdbcType=VARCHAR},
      </if>
      <if test="record.status != null">
        status = #{record.status,jdbcType=INTEGER},
      </if>
      <if test="record.rateUnit != null">
        rate_unit = #{record.rateUnit,jdbcType=VARCHAR},
      </if>
      <if test="record.rateVal != null">
        rate_val = #{record.rateVal,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update visitors
    set custom_type = #{record.customType,jdbcType=INTEGER},
      custom_from = #{record.customFrom,jdbcType=VARCHAR},
      custom_visit_url = #{record.customVisitUrl,jdbcType=VARCHAR},
      product_type = #{record.productType,jdbcType=VARCHAR},
      createdate = #{record.createdate,jdbcType=DATE},
      createip = #{record.createip,jdbcType=VARCHAR},
      browser_name = #{record.browserName,jdbcType=VARCHAR},
      browser_os = #{record.browserOs,jdbcType=VARCHAR},
      status = #{record.status,jdbcType=INTEGER},
      rate_unit = #{record.rateUnit,jdbcType=VARCHAR},
      rate_val = #{record.rateVal,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  
  
  
  
   <update id="createTable">
   create table IF NOT EXISTS visitors
	(
	   custom_type          int comment '0付费1免费',
	   custom_from          varchar(64),
	   custom_visit_url     varchar(128),
	   product_type         varchar(64),
	   createdate           date,
	   createip             varchar(64),
	   browser_name         varchar(64),
	   browser_os           varchar(64),
	   status               int comment '0未转化1已转化',
	   rate_unit            varchar(32),
	   rate_val             int
	)
	ENGINE=InnoDB DEFAULT CHARSET=utf8;
   </update>
   
   
   <insert id="insertByList" parameterType="com.ec.customer.model.VisitorsExample">
    insert into visitors ( <include refid="Base_Column_List" />)
    values
    <foreach collection="list" index="index" item="item" separator=",">  
    (
    #{item.customType,jdbcType=INTEGER}, 
    #{item.customFrom,jdbcType=VARCHAR}, 
    #{item.customVisitUrl,jdbcType=VARCHAR}, 
    #{item.productType,jdbcType=VARCHAR}, 
    #{item.createdate,jdbcType=DATE}, 
    #{item.createip,jdbcType=VARCHAR}, 
    #{item.browserName,jdbcType=VARCHAR}, 
    #{item.browserOs,jdbcType=VARCHAR}, 
    #{item.status,jdbcType=INTEGER}, 
    #{item.rateUnit,jdbcType=VARCHAR}, 
    #{item.rateVal,jdbcType=INTEGER}
    )
    </foreach>
    </insert>
    
   
   
</mapper>